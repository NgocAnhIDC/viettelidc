<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPI TT Cloud - H∆∞·ªõng d·∫´n Setup</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #00458b 0%, #1e3c72 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #00458b;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .error-banner {
            background: #ffebee;
            border: 2px solid #f44336;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .error-banner h2 {
            color: #c62828;
            margin-bottom: 10px;
        }

        .error-banner p {
            color: #d32f2f;
        }

        .setup-steps {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .setup-steps h3 {
            color: #00458b;
            margin-bottom: 20px;
        }

        .step {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #00458b;
        }

        .step h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .step p {
            color: #666;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .code {
            background: #1e1e1e;
            color: #fff;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }

        .success {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .success h4 {
            color: #2e7d32;
            margin-bottom: 8px;
        }

        .success p {
            color: #388e3c;
        }

        .warning {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .warning h4 {
            color: #f57c00;
            margin-bottom: 8px;
        }

        .warning p {
            color: #ef6c00;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: #00458b;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #1e3c72;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #4caf50;
        }

        .btn-success:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-tools"></i> KPI TT Cloud - Setup Guide</h1>
            <p>H∆∞·ªõng d·∫´n thi·∫øt l·∫≠p h·ªá th·ªëng t·ª´ ƒë·∫ßu</p>
        </div>

        <div class="error-banner">
            <h2><i class="fas fa-exclamation-triangle"></i> Database Connection Failed</h2>
            <p>MySQL service ch∆∞a ƒë∆∞·ª£c kh·ªüi ƒë·ªông ho·∫∑c ch∆∞a ƒë∆∞·ª£c c·∫•u h√¨nh ƒë√∫ng</p>
        </div>

        <div class="setup-steps">
            <h3><i class="fas fa-list-ol"></i> C√°c b∆∞·ªõc thi·∫øt l·∫≠p h·ªá th·ªëng</h3>

            <div class="step">
                <h4>1. <i class="fas fa-database"></i> C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông MySQL</h4>
                <p><strong>C√°ch 1: S·ª≠ d·ª•ng XAMPP (Khuy·∫øn ngh·ªã)</strong></p>
                <div class="code">
1. T·∫£i XAMPP t·ª´: https://www.apachefriends.org/
2. C√†i ƒë·∫∑t XAMPP
3. M·ªü XAMPP Control Panel
4. Start Apache v√† MySQL services
                </div>
                
                <p><strong>C√°ch 2: MySQL Standalone</strong></p>
                <div class="code">
1. T·∫£i MySQL t·ª´: https://dev.mysql.com/downloads/mysql/
2. C√†i ƒë·∫∑t v·ªõi password root (ƒë·ªÉ tr·ªëng ho·∫∑c ghi nh·ªõ)
3. Start MySQL service
                </div>
            </div>

            <div class="step">
                <h4>2. <i class="fas fa-table"></i> T·∫°o Database v√† Tables</h4>
                <p>Ch·∫°y script SQL ƒë·ªÉ t·∫°o database v√† import d·ªØ li·ªáu:</p>
                <div class="code">
# M·ªü MySQL Command Line ho·∫∑c phpMyAdmin
# Ch·∫°y file: database/users_db_schema.sql
                </div>
                
                <div class="warning">
                    <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h4>
                    <p>Database ph·∫£i c√≥ t√™n: <strong>users_db</strong><br>
                    User: <strong>root</strong><br>
                    Password: <strong>ƒë·ªÉ tr·ªëng</strong> (ho·∫∑c c·∫•u h√¨nh trong .env)</p>
                </div>
            </div>

            <div class="step">
                <h4>3. <i class="fas fa-server"></i> Kh·ªüi ƒë·ªông API Server</h4>
                <p>M·ªü terminal/command prompt v√† ch·∫°y:</p>
                <div class="code">
cd api
npm install
npm start
                </div>
                
                <div class="success">
                    <h4>‚úÖ Khi th√†nh c√¥ng s·∫Ω th·∫•y:</h4>
                    <p>Connected to users_db database<br>
                    User Management API running on port 3001</p>
                </div>
            </div>

            <div class="step">
                <h4>4. <i class="fas fa-play"></i> B·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng h·ªá th·ªëng</h4>
                <p>Sau khi API ch·∫°y th√†nh c√¥ng, b·∫°n c√≥ th·ªÉ:</p>
                <div class="code">
1. M·ªü start-system.html
2. Click "B·∫Øt ƒë·∫ßu h·ªá th·ªëng"
3. ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n demo
4. S·ª≠ d·ª•ng User Management v·ªõi d·ªØ li·ªáu th·ª±c
                </div>
            </div>
        </div>

        <div class="setup-steps">
            <h3><i class="fas fa-key"></i> T√†i kho·∫£n Demo</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                    <strong>admin / admin123</strong><br>
                    <small>System Administrator</small>
                </div>
                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                    <strong>cpo / cpo123</strong><br>
                    <small>Tr·∫ßn VƒÉn A - CPO</small>
                </div>
                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                    <strong>pm1 / pm123</strong><br>
                    <small>Nguy·ªÖn Th·ªã B - PM</small>
                </div>
                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                    <strong>po1 / po123</strong><br>
                    <small>L√™ VƒÉn C - PO</small>
                </div>
                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                    <strong>dev1 / dev123</strong><br>
                    <small>Ph·∫°m Th·ªã D - Dev</small>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="start-system.html" class="btn btn-success">
                <i class="fas fa-rocket"></i> Quay l·∫°i Start System
            </a>
            <a href="MySQL-Setup-Guide.md" class="btn">
                <i class="fas fa-book"></i> Chi ti·∫øt MySQL Setup
            </a>
        </div>

        <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; color: #666; font-size: 14px;">
            <p><strong>üîß Troubleshooting:</strong></p>
            <p>N·∫øu v·∫´n g·∫∑p v·∫•n ƒë·ªÅ, h√£y ki·ªÉm tra:</p>
            <p>1. MySQL service ƒëang ch·∫°y<br>
            2. Database users_db ƒë√£ ƒë∆∞·ª£c t·∫°o<br>
            3. Port 3001 kh√¥ng b·ªã chi·∫øm d·ª•ng<br>
            4. Node.js ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t</p>
        </div>
    </div>

    <script>
        // Auto-check API status
        async function checkAPIStatus() {
            try {
                const response = await fetch('http://localhost:3001/api/health');
                if (response.ok) {
                    // API is working, redirect to start system
                    const banner = document.querySelector('.error-banner');
                    banner.style.background = '#e8f5e8';
                    banner.style.borderColor = '#4caf50';
                    banner.innerHTML = `
                        <h2 style="color: #2e7d32;"><i class="fas fa-check-circle"></i> API Server ƒë√£ s·∫µn s√†ng!</h2>
                        <p style="color: #388e3c;">H·ªá th·ªëng ƒë√£ ho·∫°t ƒë·ªông. B·∫°n c√≥ th·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng.</p>
                        <a href="start-system.html" class="btn btn-success" style="margin-top: 15px;">
                            <i class="fas fa-rocket"></i> B·∫Øt ƒë·∫ßu h·ªá th·ªëng
                        </a>
                    `;
                }
            } catch (error) {
                console.log('API not ready yet');
            }
        }

        // Check every 5 seconds
        setInterval(checkAPIStatus, 5000);
        checkAPIStatus();
    </script>
</body>
</html>
